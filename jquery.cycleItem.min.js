/**
* jQuery Cycle Item
* Copyright (c) 2011 Kevin Doyle
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
**/

(function(e){var a={delay:1E4,timeoutDelay:5E3,section:".cycleitem",initialIndex:0,navigation:!1,limit:null,onCycle:function(){}},i,b,c,g,l,h,j,m,k,d={init:function(f){f&&e.extend(a,f);return this.each(function(){i=e(this);if(!a.limit)a.limit=i.find(a.section).length;g=l=!1;b=-1;c=0;a.limit>1&&d._createTimer();a.navigation&&e(a.navigation).bind("click",d._forceCycle)})},cycle:function(){a.navigation&&(e(a.navigation+".current").removeClass("current"),e(a.navigation).eq(c).addClass("current"));a.onCycle.call(i, {current:b,next:c});g&&(g=!1,h=!0)},_controlCurrent:function(f){h?(b=c,c=b+1,b===a.limit-1&&(c=0),h=!1):b===a.limit-1&&f==="up"?(b=0,c=1):(b+=1,f==="up"&&b===0?c=1:f==="up"&&b===a.limit-1?c=0:f==="up"&&b>0&&b<a.limit-1&&(c=b+1))},_createTimer:function(){rotate=setInterval(d._autoCycle,a.delay);g&&(g=!1,h=!0)},_autoCycle:function(){d._controlCurrent("up");d.cycle()},_forceCycle:function(f){g||(d._delayTimer(),m=e(f.currentTarget),k=e(a.navigation).index(m),c!==k&&(g=!0,b=c,c=k,d.cycle()));return!1}, _stopTimer:function(){clearInterval(rotate);typeof j!=="undefined"&&clearTimeout(j)},_delayTimer:function(){d._stopTimer();l||(j=setTimeout(d._createTimer,a.timeoutDelay))}};e.fn.cycleItem=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return d.init.apply(this,arguments);else e.error("Method "+a+" does not exist on cycleItem")}})(jQuery);