/**
* jQuery Cycle Item
* Copyright (c) 2011 Kevin Doyle
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
**/

(function(e){var a={delay:1E4,timeoutDelay:5E3,section:".cycleitem",initialIndex:0,navigation:!1,limit:null,onCycle:function(){}},j,b,c,g,m,h,k,n,l,i,d={init:function(f){f&&e.extend(a,f);return this.each(function(){j=e(this);a.limit||(a.limit=j.find(a.section).length);g=m=!1;i=!0;b=-1;c=0;1<a.limit&&d._createTimer();a.navigation&&e(a.navigation).bind("click",d._forceCycle)})},cycle:function(){a.navigation&&(e(a.navigation+".current").removeClass("current"),e(a.navigation).eq(c).addClass("current"));a.onCycle.call(j,{current:b,next:c});g&&(g=!1,h=!0)},resetCycle:function(){b=a.initialIndex-1;c=0},disableNavigation:function(){i=!1},enableNavigation:function(){i=!0},_controlCurrent:function(f){h?(b=c,c=b+1,b===a.limit-1&&(c=0),h=!1):b===a.limit-1&&"up"===f?(b=0,c=1):(b+=1,"up"===f&&0===b?c=1:"up"===f&&b===a.limit-1?c=0:"up"===f&&0<b&&b<a.limit-1&&(c=b+1))},_createTimer:function(){rotate=setInterval(d._autoCycle,a.delay);g&&(g=!1,h=!0)},_autoCycle:function(){d._controlCurrent("up");d.cycle()},_forceCycle:function(f){!g&&i&&(d._delayTimer(),n=e(f.currentTarget),l=e(a.navigation).index(n),c!==l&&(g=!0,b=c,c=l,d.cycle()));return!1},_stopTimer:function(){"undefined"!==typeof rotate&&clearInterval(rotate);"undefined"!==typeof k&&clearTimeout(k)},_delayTimer:function(){d._stopTimer();m||(k=setTimeout(d._createTimer,a.timeoutDelay))}};e.fn.cycleItem=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return d.init.apply(this,arguments);e.error("Method "+a+" does not exist on cycleItem")}})(jQuery);